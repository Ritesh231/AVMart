import{r as i,j as e,y as n}from"./index-DwftglYh.js";import{n as p,e as h}from"./productsApi--YTSQkNk.js";function j(){const[m,{isLoading:d}]=p(),{data:g}=h(),u=g?.data||[],[a,r]=i.useState({name:"",categoryId:"",image:null}),[l,o]=i.useState(null),c=t=>{r({...a,[t.target.name]:t.target.value})},x=t=>{const s=t.target.files[0];s&&(r({...a,image:s}),o(URL.createObjectURL(s)))},y=async t=>{if(t.preventDefault(),!a.name||!a.categoryId||!a.image){n.error("Please fill all fields ❌");return}try{const s=new FormData;s.append("name",a.name),s.append("categoryId",a.categoryId),s.append("image",a.image),await m(s).unwrap(),n.success("Subcategory Added Successfully ✅"),r({name:"",categoryId:"",image:null}),o(null)}catch(s){console.log(s),n.error("Failed to Add Subcategory ❌")}};return e.jsx("div",{className:"bg-[#F8FAFC] py-6 px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-md border",children:[e.jsx("div",{className:"px-5 py-3 border-b bg-[#1E264F] rounded-t-xl",children:e.jsx("h2",{className:"text-white font-semibold text-lg",children:"Add New Subcategory"})}),e.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Subcategory Name"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:c,className:"w-full mt-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#00E5B0] outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Select Category"}),e.jsxs("select",{name:"categoryId",value:a.categoryId,onChange:c,className:"w-full mt-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#00E5B0] outline-none",children:[e.jsx("option",{value:"",children:"Select Category"}),u.map(t=>e.jsx("option",{value:t._id,children:t.name},t._id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Subcategory Image"}),e.jsx("label",{htmlFor:"subcategoryImage",className:"mt-2 flex items-center justify-center border-2 border-dashed rounded-lg p-6 cursor-pointer hover:border-[#00E5B0]",children:l?e.jsx("img",{src:l,alt:"preview",className:"h-28 object-contain"}):e.jsx("span",{className:"text-sm text-gray-400",children:"Click to Upload Image"})}),e.jsx("input",{type:"file",id:"subcategoryImage",accept:"image/*",className:"hidden",onChange:x})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:d,className:"bg-[#00E5B0] text-white px-6 py-2 rounded-lg",children:d?"Adding...":"Add Subcategory"})})]})]})})}export{j as default};
