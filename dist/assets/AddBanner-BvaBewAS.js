import{r as n,j as e}from"./index-DwftglYh.js";import{V as l}from"./index-BByxZPSn.js";import{d as j}from"./index-D4vZpXvs.js";import{b as v}from"./bannerApi-cqd3Clx6.js";import"./iconBase-BklN5bFW.js";const k=({closeModal:i})=>{const[m,{isLoading:d}]=v(),[a,u]=n.useState({title:"",subtitle:"",isActive:!0,displayOrder:0}),[c,x]=n.useState(null),[o,p]=n.useState(null),r=s=>{const{name:t,value:b,type:y,checked:f}=s.target;u({...a,[t]:y==="checkbox"?f:b})},g=s=>{const t=s.target.files[0];t&&(x(t),p(URL.createObjectURL(t)))},h=async s=>{if(s.preventDefault(),!c){l.error("Please upload banner image");return}try{const t=new FormData;t.append("title",a.title),t.append("subtitle",a.subtitle),t.append("isActive",a.isActive),t.append("displayOrder",a.displayOrder),t.append("image",c),await m(t).unwrap(),l.success("Banner added successfully"),i()}catch(t){l.error(t?.data?.message||"Failed to add banner")}};return e.jsxs("div",{className:"bg-white rounded-2xl w-[360px] max-h-[550px] shadow-2xl border border-cyan-100",children:[e.jsx("div",{className:"px-6 py-4 rounded-2xl bg-gradient-to-r from-[#1A2550] to-[#62CDB9] text-white",children:e.jsx("p",{className:"text-xl",children:"Upload banner image & details"})}),e.jsxs("form",{onSubmit:h,className:"p-5 space-y-4",children:[e.jsxs("div",{className:"",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),e.jsx("input",{type:"text",name:"title",className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none",placeholder:"Summer Bestsellers",value:a.title,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subtitle"}),e.jsx("input",{type:"text",name:"subtitle",className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none",placeholder:"Don't miss these hot picks!",value:a.subtitle,onChange:r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Banner Image"}),e.jsxs("label",{className:"relative border-2 border-dashed border-cyan-400 rounded-xl h-28 w-full flex items-center justify-center cursor-pointer hover:bg-cyan-50 transition overflow-hidden",children:[o?e.jsx("img",{src:o,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-cyan-600",children:[e.jsx(j,{className:"text-3xl mb-2"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Click to upload image"})]}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:g})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Display Order"}),e.jsx("input",{type:"number",name:"displayOrder",className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-cyan-500 outline-none",value:a.displayOrder,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("input",{type:"checkbox",name:"isActive",className:"toggle toggle-primary",checked:a.isActive,onChange:r}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active Banner"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm rounded-lg border hover:bg-gray-100",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"px-5 py-2 text-sm rounded-lg bg-cyan-600 text-white hover:bg-cyan-700 disabled:opacity-60",children:d?"Adding...":"Add Banner"})]})]})]})};export{k as default};
